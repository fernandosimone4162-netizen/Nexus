<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nexus</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #000;
  color: #fff;
}
section { display: none; padding: 16px; }
button {
  padding: 12px;
  background: #1db954;
  border: none;
  border-radius: 6px;
  width: 100%;
  margin-top: 8px;
  font-size: 15px;
}
input {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 4px;
  border: none;
}
.nav {
  display: flex;
  gap: 6px;
}
.nav button {
  flex: 1;
  background: #111;
  color: #fff;
}
.card {
  background: #111;
  padding: 12px;
  margin-top: 10px;
  border-radius: 6px;
}
.total-mes {
  text-align: right;
  margin-top: 10px;
  font-weight: bold;
}
textarea {
  width: 100%;
  height: 120px;
  margin-top: 10px;
}
</style>
</head>

<body>

<!-- LOGIN -->
<section id="login" style="display:block">
  <h2>Entrar</h2>
  <button onclick="abrirConsentimento()">Entrar com Google</button>
</section>

<!-- CONSENTIMENTO -->
<section id="consentimento">
  <h3>Antes de continuar</h3>
  <p>
    ✔️ Dados salvos na sua conta Google<br>
    ❌ Cancelamento sem reembolso<br>
    ✅ Acesso até o fim do mês pago
  </p>
  <label>
    <input type="checkbox" id="aceito"> Aceito os termos
  </label>
  <button onclick="confirmarConsentimento()">Continuar</button>
</section>

<!-- PLANOS -->
<section id="planos">
  <h2>Planos</h2>
  <div class="card">
    <b>Plano 5 pessoas</b>
    <p>R$ 79/mês</p>
    <button onclick="entrarNexus()">Assinar</button>
  </div>
  <div class="card">
    <b>Plano ilimitado</b>
    <p>R$ 150/mês</p>
    <button onclick="entrarNexus()">Assinar</button>
  </div>
</section>

<!-- HOME -->
<section id="home">

  <div class="nav">
    <button onclick="aba('vendas')">Vendas</button>
    <button onclick="aba('compras')">Fornecedores</button>
    <button onclick="aba('histVendas')">Hist. Vendas</button>
    <button onclick="aba('histCompras')">Hist. Compras</button>
  </div>

  <!-- VENDAS -->
  <div id="vendas" class="card">
    <h3>Venda</h3>
    <input id="vProduto" placeholder="Produto">
    <input id="vQtd" placeholder="Quantidade">
    <input id="vPreco" placeholder="Preço unitário">
    <button onclick="addVenda()">Adicionar item</button>
    <div id="listaVenda"></div>
    <button onclick="finalizarVenda()">Finalizar venda</button>
  </div>

  <!-- COMPRAS -->
  <div id="compras" class="card" style="display:none">
    <h3>Compra</h3>
    <input id="cProduto" placeholder="Produto">
    <input id="cQtd" placeholder="Quantidade">
    <input id="cPreco" placeholder="Preço unitário">
    <button onclick="addCompra()">Adicionar item</button>
    <div id="listaCompra"></div>
    <button onclick="finalizarCompra()">Finalizar compra</button>
  </div>

  <!-- HIST VENDAS -->
  <div id="histVendas" class="card" style="display:none">
    <h3>Histórico de Vendas</h3>
    <textarea id="txtVendas" readonly></textarea>
    <button onclick="copiar('txtVendas')">Copiar</button>
    <div class="total-mes">Total do mês: R$ <span id="totalVendas">0</span></div>
  </div>

  <!-- HIST COMPRAS -->
  <div id="histCompras" class="card" style="display:none">
    <h3>Histórico de Compras</h3>
    <textarea id="txtCompras" readonly></textarea>
    <button onclick="copiar('txtCompras')">Copiar</button>
    <div class="total-mes">Gastos do mês: R$ <span id="totalCompras">0</span></div>
  </div>

</section>

<script>
let vendasTemp = [];
let comprasTemp = [];
let totalVendas = 0;
let totalCompras = 0;

function abrirConsentimento(){
  tela('consentimento');
}
function confirmarConsentimento(){
  if(!aceito.checked) return alert("Aceite os termos");
  tela('planos');
}
function entrarNexus(){
  tela('home');
}
function tela(id){
  document.querySelectorAll("section").forEach(s=>s.style.display="none");
  document.getElementById(id).style.display="block";
}
function aba(id){
  ['vendas','compras','histVendas','histCompras'].forEach(a=>{
    document.getElementById(a).style.display="none";
  });
  document.getElementById(id).style.display="block";
}

function addVenda(){
  let v = vQtd.value * vPreco.value;
  vendasTemp.push(`${vProduto.value} - ${vQtd.value} x ${vPreco.value} = ${v}`);
  listaVenda.innerHTML += `<div>${vendasTemp.at(-1)}</div>`;
}
function finalizarVenda(){
  let soma = vendasTemp.reduce((s,i)=>s+parseFloat(i.split("=").pop()),0);
  totalVendas += soma;
  txtVendas.value += new Date().toLocaleString()+"\n"+vendasTemp.join("\n")+"\nTotal: "+soma+"\n\n";
  document.getElementById("totalVendas").innerText = totalVendas;
  vendasTemp=[]; listaVenda.innerHTML="";
}

function addCompra(){
  let v = cQtd.value * cPreco.value;
  comprasTemp.push(`${cProduto.value} - ${cQtd.value} x ${cPreco.value} = ${v}`);
  listaCompra.innerHTML += `<div>${comprasTemp.at(-1)}</div>`;
}
function finalizarCompra(){
  let soma = comprasTemp.reduce((s,i)=>s+parseFloat(i.split("=").pop()),0);
  totalCompras += soma;
  txtCompras.value += new Date().toLocaleString()+"\n"+comprasTemp.join("\n")+"\nTotal: "+soma+"\n\n";
  document.getElementById("totalCompras").innerText = totalCompras;
  comprasTemp=[]; listaCompra.innerHTML="";
}

function copiar(id){
  let t = document.getElementById(id);
  t.select(); document.execCommand("copy");
  alert("Copiado");
}
</script>

</body>
</html>
